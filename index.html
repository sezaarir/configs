<script>
    // پروکسی CORS برای دور زدن فیلترینگ raw.githubusercontent
    const proxy = 'https://corsproxy.io/?';
    const repoJson = 'https://raw.githubusercontent.com/sezaair/configs/main/configs.json';
    const jsonUrl = proxy + encodeURIComponent(repoJson) + '?' + Date.now();

    fetch(jsonUrl)
        .then(r => r.json())
        .then(data => {
            document.getElementById('status').textContent = `تعداد کانفیگ: ${data.length}`;
            const ul = document.getElementById('list');
            data.forEach(item => {
                const li = document.createElement('li');
                const type = item.link.split('://')[0].toUpperCase();
                li.innerHTML = `<strong>${type}</strong><br><a href="${item.link}">${item.desc}</a>`;
                ul.appendChild(li);
            });
        })
        .catch(() => {
            document.getElementById('status').textContent = 'خطا در بارگذاری – صفحه را ذخیره کنید و بعداً امتحان کنید';
        });
</script>
