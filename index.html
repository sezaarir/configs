<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>کانفیگ‌های کانال تلگرام (کاملاً آفلاین/بدون فیلتر)</title>
    <style>
        body {font-family: system-ui; background:#111; color:#eee; padding:20px; line-height:1.6;}
        h1 {color:#0f0; text-align:center;}
        ul {list-style:none; padding:0;}
        li {background:#222; margin:12px 0; padding:16px; border-radius:8px; cursor:pointer;}
        .summary {color:#0f8; font-weight:bold;}
        .full-desc {display:none; margin-top:10px; padding:10px; background:#333; border-radius:6px; white-space:pre-wrap;}
        .copy-btn {background:#0f0; color:#000; border:none; padding:6px 12px; border-radius:4px; cursor:pointer; margin-top:10px;}
        .note {background:#444; padding:15px; border-radius:8px; margin:20px 0;}
    </style>
</head>
<body>
    <h1>کانفیگ‌های استخراج‌شده از کانال</h1>
    <div class="note">
        این صفحه کاملاً محلی و بدون نیاز به اینترنت خارجی کار می‌کنه.<br>
        برای به‌روز کردن: وقتی اینترنت داری، محتوای configs.json رو از raw.githubusercontent.com کپی کن و در کد JS (متغیر configs) جایگزین کن و commit بزن.<br>
        ذخیره کن (Ctrl+S → Webpage Complete) تا همیشه آفلاین باز بشه.
    </div>
    <p id="status">در حال بارگذاری...</p>
    <ul id="list"></ul>

    <script>
        // ← محتوای configs.json رو اینجا paste کن (از raw کپی شده)
        const configs = [  // مثال: جایگزین کن با محتوای واقعی json
            {
                "link": "vmess://example-link-1",
                "desc": "پیام کامل اول از کانال - توضیحات طولانی که اینجا نمایش داده میشه..."
            },
            {
                "link": "vless://example-link-2",
                "desc": "پیام دوم با جزئیات بیشتر..."
            }
            // همه آیتم‌ها رو اینجا بگذار (بدون fetch)
        ];

        document.getElementById('status').textContent = `تعداد کانفیگ: ${configs.length} (نسخه محلی - بدون فیلتر)`;

        const ul = document.getElementById('list');
        ul.innerHTML = '';
        configs.forEach((item, index) => {
            const li = document.createElement('li');
            const type = item.link.split('://')[0].toUpperCase();
            li.innerHTML = `
                <span class="summary">${type}: ${item.desc.slice(0, 60) + (item.desc.length > 60 ? '...' : '')}</span>
                <div class="full-desc" id="desc-${index}">${item.desc}</div>
                <a href="${item.link}" style="display:block; margin:10px 0; color:#0f8;">لینک کانفیگ کامل (کلیک برای ایمپورت در اپ)</a>
                <button class="copy-btn" onclick="copyLink('${item.link.replace(/'/g, "\\'")}')">کپی لینک کانفیگ</button>
            `;
            li.onclick = (e) => {
                if (e.target.tagName !== 'BUTTON' && e.target.tagName !== 'A') {
                    const desc = document.getElementById(`desc-${index}`);
                    desc.style.display = desc.style.display === 'block' ? 'none' : 'block';
                }
            };
            ul.appendChild(li);
        });

        function copyLink(link) {
            navigator.clipboard.writeText(link).then(() => {
                alert('لینک کپی شد! در اپ V2RayNG/Nekobox/Hiddify پیست کن.');
            }).catch(() => {
                alert('کپی نشد – دستی انتخاب و کپی کن.');
            });
        }
    </script>
</body>
</html>
